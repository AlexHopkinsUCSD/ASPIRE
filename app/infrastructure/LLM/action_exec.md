# ActionExecutor

The `ActionExecutor` class is a key component of the application, providing various functions to interact with language models and generate content based on provided context and prompts.

## Overview

The `ActionExecutor` class is responsible for executing prompts, summarizing teaching materials, identifying domain and module concepts, generating quiz questions, and dispatching requests to the appropriate functions. It serves as a central hub for managing the interactions with language models, such as OpenAI and Google Generative AI.

## Functions

| Function | Description | Input Arguments | Output |
| --- | --- | --- | --- |
| `executePrompt(self, base_prompt, context_prompt, action_prompt)` | Executes a prompt by sending it to the appropriate language model (OpenAI or Google Generative AI) and returns the generated response. | - `base_prompt` (str): The base prompt to be used for the language model.<br>- `context_prompt` (str): The context prompt to be used for the language model.<br>- `action_prompt` (str): The action prompt to be used for the language model. | The response generated by the language model. |
| `summarize_contents(self, context, params=None)` | Generates a summary of the teaching materials provided in the context. | - `context` (`ContextCollection` or `ErrorResponse`): The context information, including the base prompt and file contents.<br>- `params` (dict, optional): Additional parameters (not currently used). | A tuple containing the built prompt and the generated summary of the teaching materials. |
| `domain_concepts(self, context, params=None)` | Identifies and lists domain concepts from the provided teaching materials and existing database concepts. | - `context` (`ContextCollection` or `ErrorResponse`): The context information, including the base prompt, file contents, and existing context concepts.<br>- `params` (dict, optional): Additional parameters (not currently used). | A tuple containing the built prompt and the generated list of domain concepts from the teaching materials. |
| `module_concepts(self, context, params=None)` | Extracts module concepts from the teaching materials, compares them with existing database concepts, and handles potential format errors. | - `context` (`ContextCollection` or `ErrorResponse`): The context information, including the base prompt, file contents, and existing context concepts.<br>- `params` (dict, optional): Additional parameters (not currently used). | A tuple containing the built prompt and a dictionary with two keys: `prereq_concepts` (the prerequisites for the identified module concepts) and `module_concepts` (the module concepts themselves). |
| `quiz_questions(self, context, params=None)` | Generates quiz questions based on the focus concepts provided in the context. | - `context` (`ContextCollection` or `ErrorResponse`): The context information, including the base prompt and focus concepts.<br>- `params` (dict, optional): Additional parameters (not currently used). | A tuple containing the built prompt and the generated quiz questions for each focus concept. |
| `execute(self, context, action, params=None)` | Dispatches the request to the appropriate function based on the action parameter. | - `context` (`ContextCollection` or `ErrorResponse`): The context information.<br>- `action` (str): The action name to identify the function to be executed.<br>- `params` (dict, optional): Parameters for the action function. | The result of the function execution, which varies based on the action. |

## Usage

To use the `ActionExecutor` class, you can create an instance and call the appropriate function with the necessary input arguments. For example:

```python
executor = ActionExecutor()
context = ContextCollection(base_prompt="...", file_contents="...", context_concepts="...")
summary, built_prompt = await executor.summarize_contents(context)
